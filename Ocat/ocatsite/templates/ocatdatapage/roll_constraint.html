{% block roll_constraints %}

{% comment %} Roll Constraints Section. {% endcomment %}

<h2>Roll Constraints</h2>

<input type="hidden" name="roll_ordr" value={{ dbval.roll_ordr }}>

{% ifequal dbval.roll_flag  'Y' %}
{% comment %} There are roll constraints. {% endcomment %}

    <input type="hidden" name='roll_flag'  value={{ dbval.roll_flag }}>

    <table border =0>
        <tr>
            {% include "includes/jstag.html" with p1='roll_flag' p2=pname.roll_flag p3=gen_name.roll_flag %}
        </tr>
    </table>
    
    <table>
        <tr>
            <th><a href="#" onClick="WindowOpen(roll_ordr);return false;">Rank</a></th>
            <th><a href="#" onClick="WindowOpen(roll_constraint);return false;">Roll Constraint</a></th>
            <th><a href="#" onClick="WindowOpen(roll_180);return false;">Roll 180?</a></th>
            <th><a href="#" onClick="WindowOpen(roll);return false;">Roll</a></th>
            <th><a href="#" onClick="WindowOpen(roll_tolerance);return false;">Roll Torelance</a></th>
        </tr>

{% comment %} Depending on ranks, show different numbers of rows.  {% endcomment %}

        {% ifequal dbval.roll_ordr 1 %}
            {% include 'ocatdatapage/roll_constraint_sub1.html' %}
        {% endifequal %}
    
        {% ifequal dbval.roll_ordr 2 %}
            {% include 'ocatdatapage/roll_constraint_sub2.html' %}
        {% endifequal %}
    
        {% ifequal dbval.roll_ordr 3 %}
            {% include 'ocatdatapage/roll_constraint_sub3.html' %}
        {% endifequal %}
    
        {% ifequal dbval.roll_ordr 4 %}
            {% include 'ocatdatapage/roll_constraint_sub4.html' %}
        {% endifequal %}
    
        {% ifequal dbval.roll_ordr 5 %}
            {% include 'ocatdatapage/roll_constraint_sub5.html' %}
        {% endifequal %}
    
        {% ifequal dbval.roll_ordr 6 %}
            {% include 'ocatdatapage/roll_constraint_sub6.html' %}
        {% endifequal %}
    
    </table>
    
    <p>
        {% ifnotequal dbval.roll_ordr 6 %}
            <input type="submit" name="check" value="Add Another Roll Constraint">
        <br />
        {% endifnotequal %}
        <input type="submit" name="check" value="Remove Null Roll Constraint">
    </p>

{% else %}
    {% ifequal dbval.roll_flag  'P' %}
{% comment %} There are roll constraints. {% endcomment %}

        <input type="hidden" name='roll_flag'  value={{ dbval.roll_flag }}>
    
        <table border =0>
            <tr>
                {% include "includes/jstag.html" with p1='roll_flag' p2=pname.roll_flag p3=gen_name.roll_flag %}
            </tr>
        </table>
     
        <table>
            <tr>
                <th><a href="#" onClick="WindowOpen(roll_ordr);return false;">Rank</a></th>
                <th><a href="#" onClick="WindowOpen(roll_constraint);return false;">Roll Constraint</a></th>
                <th><a href="#" onClick="WindowOpen(roll_180);return false;">Roll 180?</a></th>
                <th><a href="#" onClick="WindowOpen(roll);return false;">Roll</a></th>
                <th><a href="#" onClick="WindowOpen(roll_tolerance);return false;">Roll Torelance</a></th>
            </tr>

{% comment %} Depending on ranks, show different numbers of rows.  {% endcomment %}

            {% ifequal dbval.roll_ordr 1 %}
                {% include 'ocatdatapage/roll_constraint_sub1.html' %}
            {% endifequal %}
     
            {% ifequal dbval.roll_ordr 2 %}
                {% include 'ocatdatapage/roll_constraint_sub2.html' %}
            {% endifequal %}
     
            {% ifequal dbval.roll_ordr 3 %}
                {% include 'ocatdatapage/roll_constraint_sub3.html' %}
            {% endifequal %}
     
            {% ifequal dbval.roll_ordr 4 %}
                {% include 'ocatdatapage/roll_constraint_sub4.html' %}
            {% endifequal %}
     
            {% ifequal dbval.roll_ordr 5 %}
                {% include 'ocatdatapage/roll_constraint_sub5.html' %}
            {% endifequal %}
     
            {% ifequal dbval.roll_ordr 6 %}
                {% include 'ocatdatapage/roll_constraint_sub6.html' %}
            {% endifequal %}
     
        </table>
     
        <p>
            {% ifnotequal dbval.roll_ordr 6 %}
                <input type="submit" name="check" value="Add Another Roll Constraint">
            <br />
            {% endifnotequal %}
            <input type="submit" name="check" value="Remove Null Roll Constraint">
        </p>

    {% else %}
{% comment %} If there is no roll constraint, show this part. {% endcomment %}

        <p>
            There are no roll constraints. Do you need to add?
     
            {% include "includes/jstag.html" with p1='' p2='' p3=gen_name.roll_flag %}
         
            <input type="submit" name="check" value="Update">
        </p>

    {% endifequal %}
{% endifequal %}

{% endblock %}

